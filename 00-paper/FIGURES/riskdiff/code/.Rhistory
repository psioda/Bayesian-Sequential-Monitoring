getwd()
rm(list = ls())
par(mar=c(5.1+1,4.1,2.1,2.1)) #c(bottom, left, top, right)
png('../../figure3a.png',
width = 450*width.scale,
height = 300*width.scale,
pointsize=16,
res=300)
source("plots/plots_seq_design_prop.R")
dev.off()
################## FIGURE 6 ###########################
dev.off()
rm(list = ls())
par(mar=c(5.1+1,4.1,2.1,2.1)) #c(bottom, left, top, right)
width.scale<-7
png('../../figure3a.png',
width = 450*width.scale,
height = 300*width.scale,
pointsize=16,
res=300)
source("plots/plots_seq_design_prop.R")
dev.off()
getwd()
################## FIGURE 6 ###########################
dev.off()
rm(list = ls())
par(mar=c(5.1+1,4.1,2.1,2.1)) #c(bottom, left, top, right)
width.scale<-7
png('../../figure6.png',
width = 450*width.scale,
height = 300*width.scale,
pointsize=16,
res=300)
source("plots_seq_design_prop.R")
dev.off()
################## FIGURE 6 ###########################
dev.off()
rm(list = ls())
par(mar=c(5.1+1,4.1,2.1,2.1)) #c(bottom, left, top, right)
width.scale<-7
stretch <- 0.38
png('../../../figure6.png',
width = 450*width.scale,
height = 300*width.scale,
pointsize=16,
res=300)
source("plots_seq_design_prop.R")
dev.off()
getwd()
rm(list = ls())
par(mar=c(5.1+1,4.1,2.1,2.1)) #c(bottom, left, top, right)
width.scale<-7
stretch <- 0.38
png('../../figure6.png',
width = 450*width.scale,
height = 300*width.scale,
pointsize=16,
res=300)
source("plots/plots_seq_design_prop.R")
dev.off()
################## FIGURE 6 ###########################
dev.off()
rm(list = ls())
par(mar=c(5.1+1,4.1,2.1,2.1)) #c(bottom, left, top, right)
width.scale<-7
stretch <- 0.36
png('../../figure6.png',
width = 450*width.scale,
height = 300*width.scale,
pointsize=16,
res=300)
source("plots/plots_seq_design_prop.R")
dev.off()
################## FIGURE 6 ###########################
rm(list = ls())
par(mar=c(5.1+2,4.1,2.1,2.1)) #c(bottom, left, top, right)
width.scale<-7
stretch <- 0.36
png('../../figure6.png',
width = 450*width.scale,
height = 300*width.scale,
pointsize=16,
res=300)
source("plots/plots_seq_design_prop.R")
dev.off()
seq(0.25, 1, by = 0.25)
rm(list = ls())
par(mar=c(5.1+5,4.1,2.1,2.1)) #c(bottom, left, top, right)
width.scale<-7
stretch <- 0.36
png('../../figure6.png',
width = 450*width.scale,
height = 300*width.scale,
pointsize=16,
res=300)
source("plots/plots_seq_design_prop.R")
dev.off()
#############################################
#### Figure 6, Risk Diff Inference Plots ####
#############################################
root <- "P:/Bayesian-Sequential-Monitoring/00-paper/FIGURES/riskdiff/code"
setwd(root)
load(file = 'args_model.RData') # loads all model information include prior parameters
args_simulation <- read.csv(file = "args_simulation.csv", header = TRUE, sep = ",")
Table1 <- read.csv(file = "../output/Table1_merged.csv", header = TRUE, sep = ",")
combined1 <- merge(args_simulation, Table1, by.x = "X", by.y = "idx")
figure3 <- combined1
plot(figure3$p.IP[figure3$eff.mix.prob==0.25],
figure3$eff.mon.initial[figure3$eff.mix.prob==0.25],
type='l',
ylim=c(0,0.5),
lwd=1,
ylab="Probability",
xlab="",
main="",
xaxt="n")
box()
axis(1,las=0,at=figure3$p.IP[seq(1,length(figure3$p.IP),by=3)],
labels=format(figure3$p.IP[seq(1,length(figure3$p.IP),by=3)],nsmall=2))
probs <- seq(0.25, 1, by = 0.25)
for (i in 1:length(probs)){
row <- i + 1
temp <- figure3[figure3$eff.mix.prob==probs[i],]
lines(temp$p.IP,temp$eff.mon.initial)
for (j in seq(1,length(temp$p.IP), by=3)){
mtext(text=paste0(format(round(temp$ss.initial[j],digits=1),nsmall=1),
" + ",
format(round(temp$ss.final[j]-
temp$ss.initial[j],digits=1),nsmall=1),
" = ",
format(round(temp$ss.final[j],digits=1),nsmall=1)),
side=1,line=row,at=temp$p.IP[j])
}
mtext(text=i,side=1,line=row,at=stretch)
}
# legend("right",#text.width=0.05,
#        legend=c("Stop Early for Efficacy",
#                 "Stop Early for Futility",
#                 "Inconclusive Findings"),
#        lty=c('solid','longdash','dotted'))
rm(list = ls())
par(mar=c(5.1+1,4.1,2.1,2.1)) #c(bottom, left, top, right)
width.scale<-7
stretch <- 0.36
png('../../figure6.png',
width = 450*width.scale,
height = 300*width.scale,
pointsize=16,
res=300)
source("plots/plots_seq_design_prop.R")
dev.off()
rm(list = ls())
par(mar=c(5.1+1,4.1,2.1,2.1)) #c(bottom, left, top, right)
width.scale<-7
stretch <- 0.36
png('../../figure6.png',
width = 450*width.scale,
height = 300*width.scale,
pointsize=16,
res=300)
source("plots/plots_seq_design_prop.R")
dev.off()
rm(list = ls())
par(mar=c(5.1+1,4.1,2.1,2.1)) #c(bottom, left, top, right)
width.scale<-7
stretch <- 0.36
png('../../figure6.png',
width = 450*width.scale,
height = 300*width.scale,
pointsize=16,
res=300)
source("plots/plots_seq_design_prop.R")
dev.off()
dev.off()
rm(list = ls())
par(mar=c(5.1+1,4.1,2.1,2.1)) #c(bottom, left, top, right)
width.scale<-7
stretch <- 0.36
png('../../figure6.png',
width = 450*width.scale,
height = 300*width.scale,
pointsize=16,
res=300)
source("plots/plots_seq_design_prop.R")
dev.off()
#############################################
#### Figure 6, Risk Diff Inference Plots ####
#############################################
root <- "P:/Bayesian-Sequential-Monitoring/00-paper/FIGURES/riskdiff/code"
setwd(root)
load(file = 'args_model.RData') # loads all model information include prior parameters
args_simulation <- read.csv(file = "args_simulation.csv", header = TRUE, sep = ",")
Table1 <- read.csv(file = "../output/Table1_merged.csv", header = TRUE, sep = ",")
combined1 <- merge(args_simulation, Table1, by.x = "X", by.y = "idx")
figure3 <- combined1
plot(figure3$p.IP[figure3$eff.mix.prob==0.25],
figure3$eff.mon.initial[figure3$eff.mix.prob==0.25],
type='l',
ylim=c(0,0.5),
lwd=1,
ylab="Probability",
xlab="",
main="",
xaxt="n")
box()
axis(1,las=0,at=figure3$p.IP[seq(1,length(figure3$p.IP),by=3)],
labels=format(figure3$p.IP[seq(1,length(figure3$p.IP),by=3)],nsmall=2))
probs <- seq(0.25, 1, by = 0.25)
for (i in 1:length(probs)){
row <- i + 1
temp <- figure3[figure3$eff.mix.prob==probs[i],]
lines(temp$p.IP,temp$eff.mon.initial)
for (j in seq(1,length(temp$p.IP), by=3)){
mtext(text=paste0(format(round(temp$ss.initial[j],digits=1),nsmall=1),
" + ",
format(round(temp$ss.final[j]-
temp$ss.initial[j],digits=1),nsmall=1),
" = ",
format(round(temp$ss.final[j],digits=1),nsmall=1)),
side=1,line=row,at=temp$p.IP[j])
}
mtext(text=i,side=1,line=row,at=stretch)
}
# legend("right",#text.width=0.05,
#        legend=c("Stop Early for Efficacy",
#                 "Stop Early for Futility",
#                 "Inconclusive Findings"),
#        lty=c('solid','longdash','dotted'))
root <- "P:/Bayesian-Sequential-Monitoring/00-paper/FIGURES/riskdiff/code"
setwd(root)
load(file = 'args_model.RData') # loads all model information include prior parameters
args_simulation <- read.csv(file = "args_simulation.csv", header = TRUE, sep = ",")
Table1 <- read.csv(file = "../output/Table1_merged.csv", header = TRUE, sep = ",")
combined1 <- merge(args_simulation, Table1, by.x = "X", by.y = "idx")
figure3 <- combined1
plot(figure3$p.IP[figure3$eff.mix.prob==0.25],
figure3$eff.mon.initial[figure3$eff.mix.prob==0.25],
type='l',
ylim=c(0,0.5),
lwd=1,
ylab="Probability",
xlab="",
main="",
xaxt="n")
box()
axis(1,las=0,at=figure3$p.IP[seq(1,length(figure3$p.IP),by=3)],
labels=format(figure3$p.IP[seq(1,length(figure3$p.IP),by=3)],nsmall=2))
probs <- seq(0.25, 1, by = 0.25)
for (i in 1:length(probs)){
row <- i + 1
temp <- figure3[figure3$eff.mix.prob==probs[i],]
lines(temp$p.IP,temp$eff.mon.initial)
for (j in seq(1,length(temp$p.IP), by=3)){
mtext(text=paste0(format(round(temp$ss.initial[j],digits=1),nsmall=1),
" + ",
format(round(temp$ss.final[j]-
temp$ss.initial[j],digits=1),nsmall=1),
" = ",
format(round(temp$ss.final[j],digits=1),nsmall=1)),
side=1,line=row,at=temp$p.IP[j])
}
mtext(text=i,side=1,line=row,at=stretch)
}
# legend("right",#text.width=0.05,
#        legend=c("Stop Early for Efficacy",
#                 "Stop Early for Futility",
#                 "Inconclusive Findings"),
#        lty=c('solid','longdash','dotted'))
dev.off()
getwd()
