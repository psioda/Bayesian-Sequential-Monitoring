rm(list = ls())
root<-"/Users/kwiatkoe/Documents/GitHub/Bayesian-Sequential-Monitoring/00-paper/FIGURES/onearm/code"
setwd(root)
source("args_model.R")
args_simulation<-read.csv(file="args_simulation.csv",header=TRUE,sep=",")
## load data from longleaf
Table1    <- read.csv(file="../output/Table1_merged.csv",header=TRUE,sep=",")
combined1 <- merge(args_simulation,Table1,by.x="X",by.y="idx")
combined1 <- combined1[(combined1$model==1 & combined1$p.range %in% c(0.4, 0.535, 0.67)),]
combined1$comb <- NA
combined1$comb[(combined1$skpt_spike==0 & combined1$enth_flat==0)]=1
combined1$comb[(combined1$skpt_spike==1 & combined1$enth_flat==0)]=2
combined1$comb[(combined1$skpt_spike==0 & combined1$enth_flat==1)]=3
combined1$comb[(combined1$skpt_spike==1 & combined1$enth_flat==1)]=4
combined1 <- combined1[,c("p.range","comb","fut.mon.initial","fut.mon.final","ss.initial")]
library(tidyr)
spread(combined1, comb, c(fut.mon.initial,fut.mon.final,ss.initial))
combined1
t(combined1)
M1 <- t(combined1[,combined1$p.range==0.4])
M1 <- t(combined1[combined1$p.range==0.4,])
M1
M2 <- t(combined1[combined1$p.range==0.535])
M3 <- t(combined1[combined1$p.range==0.67])
M2 <- t(combined1[combined1$p.range==0.535,])
M3 <- t(combined1[combined1$p.range==0.67,])
M2
M3
M3[1,1]
rbind(M1,M2,M3)
rnames(M1)
row.names(M1)
M1$prob <- M1[1,1]
M1
View(M2)
View(M3)
M1[1,1]
M1
M1
M1 <- t(combined1[combined1$p.range==0.4,])
M1
M1[1,1]
M1$prob <- M1[1,1]
M1
M1 <- t(combined1[combined1$p.range==0.4,])
M1
names(M1)
M1 <- data.frame(t(combined1[combined1$p.range==0.4,]))
M1$prob <- M1[1,1]
M1
names(M1) <- M1["comb",]
M1
M1 <- data.frame(t(combined1[combined1$p.range==0.4,]))
names(M1) <- M1["comb",]
M1$prob <- M1[1,1]
M1
M1        <- M1[,-c("p.range","comb")]
M1        <- data.frame(t(combined1[combined1$p.range==0.4,]))
names(M1) <- M1["comb",]
M1$prob   <- M1[1,1]
M1        <- M1[,!names(M1) %in% c("p.range","comb")]
M2 <- t(combined1[combined1$p.range==0.535,])
M1
M1        <- M1[!row.names(M1) %in% c("p.range","comb",)]
M1        <- M1[!row.names(M1) %in% c("p.range","comb"),]
M1
M1        <- data.frame(t(combined1[combined1$p.range==0.4,]))
names(M1) <- M1["comb",]
M1$prob   <- M1[1,1]
M1        <- M1[!row.names(M1) %in% c("p.range","comb"),]
M2 <- t(combined1[combined1$p.range==0.535,])
names(M2) <- M2["comb",]
M2$prob   <- M2[1,1]
M2        <- M2[!row.names(M2) %in% c("p.range","comb"),]
M3 <- t(combined1[combined1$p.range==0.67,])
names(M3) <- M3["comb",]
M3$prob   <- M3[1,1]
M3        <- M3[!row.names(M3) %in% c("p.range","comb"),]
M1        <- data.frame(t(combined1[combined1$p.range==0.4,]))
names(M1) <- M1["comb",]
M1$prob   <- M1[1,1]
M1        <- M1[!row.names(M1) %in% c("p.range","comb"),]
M2 <- t(combined1[combined1$p.range==0.535,])
names(M2) <- M2["comb",]
M2$prob   <- M2[1,1]
M2 <- t(combined1[combined1$p.range==0.535,])
names(M2) <- M2["comb",]
M2        <- t(combined1[combined1$p.range==0.535,])
names(M2) <- M2["comb",]
M2$prob   <- M2[1,1]
M2        <- M2[!row.names(M2) %in% c("p.range","comb"),]
M3        <- data.frame(t(combined1[combined1$p.range==0.67,]))
names(M3) <- M3["comb",]
M3$prob   <- M3[1,1]
M3        <- M3[!row.names(M3) %in% c("p.range","comb"),]
M2        <- data.frame(t(combined1[combined1$p.range==0.535,]))
names(M2) <- M2["comb",]
M2$prob   <- M2[1,1]
M2        <- M2[!row.names(M2) %in% c("p.range","comb"),]
M3        <- data.frame(t(combined1[combined1$p.range==0.67,]))
names(M3) <- M3["comb",]
M3$prob   <- M3[1,1]
M3        <- M3[!row.names(M3) %in% c("p.range","comb"),]
rbind(M1,M2,M3)
