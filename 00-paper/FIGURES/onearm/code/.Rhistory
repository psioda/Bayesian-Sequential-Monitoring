figureS1$ongoing<-paste0(format(round((figureS1$ss.final-figureS1$ss.initial)/figureS1$ss.final*100,digits=1),nsmall=1),"%")
a1<-reshape(figureS1[,c("freq.mntr","eff","id")],
timevar = "freq.mntr",
idvar="id",
direction = "wide")
names(a1) <- gsub("eff.", "", names(a1))
a2<-reshape(figureS1[,c("freq.mntr","T1E","id")],
timevar = "freq.mntr",
idvar="id",
direction = "wide")
names(a2) <- gsub("T1E.", "", names(a2))
a3<-reshape(figureS1[,c("freq.mntr","ss","id")],
timevar = "freq.mntr",
idvar="id",
direction = "wide")
names(a3) <- gsub("ss.", "", names(a3))
a4<-reshape(figureS1[,c("freq.mntr","ongoing","id")],
timevar = "freq.mntr",
idvar="id",
direction = "wide")
names(a4) <- gsub("ongoing.", "", names(a4))
all<-rbind(a1,a2,a3,a4)
all <- all[ order(row.names(all)), ]
write.table(t(all), "../../figureS1.csv", sep="&", col.names=T)
gsub(""","",all)
gsub("'","",all)
gsub('"',"",all)
all<-gsub('"',"",all)
all
write.table(t(all), "../../figureS1.csv", sep="&", col.names=T)
###############################################
#### Figure S1, One Arm Enrollment Schemes ####
###############################################
rm(list = ls())
root<-"P:/GitHub/Bayesian-Sequential-Monitoring/00-paper/FIGURES/onearm/code"
setwd(root)
source("args_model.R")
args_simulation<-read.csv(file="args_simulation.csv",header=TRUE,sep=",")[seq(141,188),]
Table1<-read.csv(file="../output/Table1_merged_S1.csv",header=TRUE,sep=",")
combined1<-merge(args_simulation,Table1,by.x="X",by.y="idx")
figureS1<-combined1[combined1$model==3 & combined1$p.range==p.skpt,]
figureS1$id<-paste0(figureS1$enr.shape)
figureS1$eff<-format(round(figureS1$eff.mon.initial,digits=3),nsmall=3)
figureS1$T1E<-format(round(figureS1$eff.mon.final,digits=3),nsmall=3)
figureS1$ss<-format(round(figureS1$ss.final,digits=1),nsmall=1)
figureS1$ongoing<-paste0(format(round((figureS1$ss.final-figureS1$ss.initial)/figureS1$ss.final*100,digits=1),nsmall=1),"\%")
a1<-reshape(figureS1[,c("freq.mntr","eff","id")],
timevar = "freq.mntr",
idvar="id",
direction = "wide")
names(a1) <- gsub("eff.", "", names(a1))
a2<-reshape(figureS1[,c("freq.mntr","T1E","id")],
timevar = "freq.mntr",
idvar="id",
direction = "wide")
names(a2) <- gsub("T1E.", "", names(a2))
a3<-reshape(figureS1[,c("freq.mntr","ss","id")],
timevar = "freq.mntr",
idvar="id",
direction = "wide")
names(a3) <- gsub("ss.", "", names(a3))
a4<-reshape(figureS1[,c("freq.mntr","ongoing","id")],
timevar = "freq.mntr",
idvar="id",
direction = "wide")
names(a4) <- gsub("ongoing.", "", names(a4))
all<-rbind(a1,a2,a3,a4)
all <- all[ order(row.names(all)), ]
all$EFF<-gsub('"',"",all$EFF)
write.table(t(all), "../../figureS1.csv", sep="&", col.names=T)
###############################################
#### Figure S1, One Arm Enrollment Schemes ####
###############################################
rm(list = ls())
root<-"P:/GitHub/Bayesian-Sequential-Monitoring/00-paper/FIGURES/onearm/code"
setwd(root)
source("args_model.R")
args_simulation<-read.csv(file="args_simulation.csv",header=TRUE,sep=",")[seq(141,188),]
Table1<-read.csv(file="../output/Table1_merged_S1.csv",header=TRUE,sep=",")
combined1<-merge(args_simulation,Table1,by.x="X",by.y="idx")
figureS1<-combined1[combined1$model==3 & combined1$p.range==p.skpt,]
figureS1$id<-paste0(figureS1$enr.shape)
figureS1$eff<-format(round(figureS1$eff.mon.initial,digits=3),nsmall=3)
figureS1$T1E<-format(round(figureS1$eff.mon.final,digits=3),nsmall=3)
figureS1$ss<-format(round(figureS1$ss.final,digits=1),nsmall=1)
figureS1$ongoing<-paste0(format(round((figureS1$ss.final-figureS1$ss.initial)/figureS1$ss.final*100,digits=1),nsmall=1),"\%")
a1<-reshape(figureS1[,c("freq.mntr","eff","id")],
timevar = "freq.mntr",
idvar="id",
direction = "wide")
names(a1) <- gsub("eff.", "", names(a1))
a2<-reshape(figureS1[,c("freq.mntr","T1E","id")],
timevar = "freq.mntr",
idvar="id",
direction = "wide")
names(a2) <- gsub("T1E.", "", names(a2))
a3<-reshape(figureS1[,c("freq.mntr","ss","id")],
timevar = "freq.mntr",
idvar="id",
direction = "wide")
names(a3) <- gsub("ss.", "", names(a3))
a4<-reshape(figureS1[,c("freq.mntr","ongoing","id")],
timevar = "freq.mntr",
idvar="id",
direction = "wide")
names(a4) <- gsub("ongoing.", "", names(a4))
all<-rbind(a1,a2,a3,a4)
figureS1$ongoing<-paste0(format(round((figureS1$ss.final-figureS1$ss.initial)/figureS1$ss.final*100,digits=1),nsmall=1),"\","%")
figureS1$ongoing<-paste0(format(round((figureS1$ss.final-figureS1$ss.initial)/figureS1$ss.final*100,digits=1),nsmall=1),"\\%")
###############################################
#### Figure S1, One Arm Enrollment Schemes ####
###############################################
rm(list = ls())
root<-"P:/GitHub/Bayesian-Sequential-Monitoring/00-paper/FIGURES/onearm/code"
setwd(root)
source("args_model.R")
args_simulation<-read.csv(file="args_simulation.csv",header=TRUE,sep=",")[seq(141,188),]
Table1<-read.csv(file="../output/Table1_merged_S1.csv",header=TRUE,sep=",")
combined1<-merge(args_simulation,Table1,by.x="X",by.y="idx")
figureS1<-combined1[combined1$model==3 & combined1$p.range==p.skpt,]
figureS1$id<-paste0(figureS1$enr.shape)
figureS1$eff<-format(round(figureS1$eff.mon.initial,digits=3),nsmall=3)
figureS1$T1E<-format(round(figureS1$eff.mon.final,digits=3),nsmall=3)
figureS1$ss<-format(round(figureS1$ss.final,digits=1),nsmall=1)
figureS1$ongoing<-paste0(format(round((figureS1$ss.final-figureS1$ss.initial)/figureS1$ss.final*100,digits=1),nsmall=1),"\\%")
a1<-reshape(figureS1[,c("freq.mntr","eff","id")],
timevar = "freq.mntr",
idvar="id",
direction = "wide")
names(a1) <- gsub("eff.", "", names(a1))
a2<-reshape(figureS1[,c("freq.mntr","T1E","id")],
timevar = "freq.mntr",
idvar="id",
direction = "wide")
names(a2) <- gsub("T1E.", "", names(a2))
a3<-reshape(figureS1[,c("freq.mntr","ss","id")],
timevar = "freq.mntr",
idvar="id",
direction = "wide")
names(a3) <- gsub("ss.", "", names(a3))
a4<-reshape(figureS1[,c("freq.mntr","ongoing","id")],
timevar = "freq.mntr",
idvar="id",
direction = "wide")
names(a4) <- gsub("ongoing.", "", names(a4))
all<-rbind(a1,a2,a3,a4)
all <- all[ order(row.names(all)), ]
all$EFF<-gsub('"',"",all$EFF)
write.table(t(all), "../../figureS1.csv", sep="&", col.names=T)
###############################################
rm(list = ls())
root<-"P:/GitHub/Bayesian-Sequential-Monitoring/00-paper/FIGURES/onearm/code"
setwd(root)
source("args_model.R")
args_simulation<-read.csv(file="args_simulation.csv",header=TRUE,sep=",")[seq(141,188),]
Table1<-read.csv(file="../output/Table1_merged_S1.csv",header=TRUE,sep=",")
combined1<-merge(args_simulation,Table1,by.x="X",by.y="idx")
figureS1<-combined1[combined1$model==3 & combined1$p.range==p.skpt,]
figureS1$id<-paste0(figureS1$enr.shape)
figureS1$eff<-format(round(figureS1$eff.mon.initial,digits=3),nsmall=3)
figureS1$T1E<-format(round(figureS1$eff.mon.final,digits=3),nsmall=3)
figureS1$ss<-format(round(figureS1$ss.final,digits=1),nsmall=1)
figureS1$ongoing<-paste0(format(round((figureS1$ss.final-figureS1$ss.initial)/figureS1$ss.final*100,digits=1),nsmall=1),"\\%")
a1<-reshape(figureS1[,c("freq.mntr","eff","id")],
timevar = "freq.mntr",
idvar="id",
direction = "wide")
names(a1) <- gsub("eff.", "", names(a1))
a2<-reshape(figureS1[,c("freq.mntr","T1E","id")],
timevar = "freq.mntr",
idvar="id",
direction = "wide")
names(a2) <- gsub("T1E.", "", names(a2))
a3<-reshape(figureS1[,c("freq.mntr","ss","id")],
timevar = "freq.mntr",
idvar="id",
direction = "wide")
names(a3) <- gsub("ss.", "", names(a3))
a4<-reshape(figureS1[,c("freq.mntr","ongoing","id")],
timevar = "freq.mntr",
idvar="id",
direction = "wide")
names(a4) <- gsub("ongoing.", "", names(a4))
all<-rbind(a1,a2,a3,a4)
all <- all[ order(row.names(all)), ]
all$eff<-gsub('"',"",all$eff)
write.table(t(all), "../../figureS1.csv", sep="&", col.names=T)
all
rm(list = ls())
root<-"P:/GitHub/Bayesian-Sequential-Monitoring/00-paper/FIGURES/onearm/code"
setwd(root)
source("args_model.R")
args_simulation<-read.csv(file="args_simulation.csv",header=TRUE,sep=",")[seq(141,188),]
Table1<-read.csv(file="../output/Table1_merged_S1.csv",header=TRUE,sep=",")
combined1<-merge(args_simulation,Table1,by.x="X",by.y="idx")
figureS1<-combined1[combined1$model==3 & combined1$p.range==p.skpt,]
figureS1$id<-paste0(figureS1$enr.shape)
figureS1$eff<-format(round(figureS1$eff.mon.initial,digits=3),nsmall=3)
figureS1$T1E<-format(round(figureS1$eff.mon.final,digits=3),nsmall=3)
figureS1$ss<-format(round(figureS1$ss.final,digits=1),nsmall=1)
figureS1$ongoing<-paste0(format(round((figureS1$ss.final-figureS1$ss.initial)/figureS1$ss.final*100,digits=1),nsmall=1),"\\%")
a1<-reshape(figureS1[,c("freq.mntr","eff","id")],
timevar = "freq.mntr",
idvar="id",
direction = "wide")
names(a1) <- gsub("eff.", "", names(a1))
a2<-reshape(figureS1[,c("freq.mntr","T1E","id")],
timevar = "freq.mntr",
idvar="id",
direction = "wide")
names(a2) <- gsub("T1E.", "", names(a2))
a3<-reshape(figureS1[,c("freq.mntr","ss","id")],
timevar = "freq.mntr",
idvar="id",
direction = "wide")
names(a3) <- gsub("ss.", "", names(a3))
a4<-reshape(figureS1[,c("freq.mntr","ongoing","id")],
timevar = "freq.mntr",
idvar="id",
direction = "wide")
names(a4) <- gsub("ongoing.", "", names(a4))
all<-rbind(a1,a2,a3,a4)
all <- all[ order(row.names(all)), ]
write.table(t(all), "../../figureS1.csv", sep="&", col.names=T)
rm(list = ls())
root<-"P:/GitHub/Bayesian-Sequential-Monitoring/00-paper/FIGURES/onearm/code"
setwd(root)
source("args_model.R")
args_simulation<-read.csv(file="args_simulation.csv",header=TRUE,sep=",")
Table1<-read.csv(file="../output/Table1_merged.csv",header=TRUE,sep=",")
combined1<-merge(args_simulation,Table1,by.x="X",by.y="idx")
figureS2<-combined1[combined1$model==4,]
figureS2$id<-c(rep(1,5),rep(2,5),rep(3,5),rep(4,5))
figureS2$eff<-format(round(figureS2$eff.mon.initial,digits=3),nsmall=3)
figureS2$fut<-format(round(figureS2$fut.mon.initial,digits=3),nsmall=3)
figureS2$inc<-format(round(1-figureS2$eff.mon.initial-figureS2$fut.mon.initial,digits=3),nsmall=3)
figureS2$ss<-paste0(format(round(figureS2$ss.initial,digits=1),nsmall=1),
" + ",
format(round(figureS2$ss.final-
figureS2$ss.initial,digits=1),nsmall=1),
" = ",
format(round(figureS2$ss.final,digits=1),nsmall=1))
a1<-reshape(figureS2[,c("p.range","eff","id")],
timevar = "p.range",
idvar="id",
direction = "wide")
names(a1) <- gsub("eff.", "", names(a1))
a2<-reshape(figureS2[,c("p.range","fut","id")],
timevar = "p.range",
idvar="id",
direction = "wide")
names(a2) <- gsub("fut.", "", names(a2))
a3<-reshape(figureS2[,c("p.range","inc","id")],
timevar = "p.range",
idvar="id",
direction = "wide")
names(a3) <- gsub("inc.", "", names(a3))
a4<-reshape(figureS2[,c("p.range","ss","id")],
timevar = "p.range",
idvar="id",
direction = "wide")
names(a4) <- gsub("ss.", "", names(a4))
all<-rbind(a1,a2,a3,a4)
all <- all[ order(row.names(all)), ]
model1<-expand.grid(1,seq(p.skpt,p.enth,by=0.01),1,0,2,1,4)
model2<-expand.grid(2,p.skpt,1,0,seq(1,max.ss,by=1),1,4)
#model3<-expand.grid(3,seq(p.skpt,p.enth,length=5),1,0,2,c(1,0.25),4)
model3<-expand.grid(3,seq(p.skpt,p.enth,length=3),1,0,c(1,2,3,5,10,20,61,112),c(1,0.25),4)
model4<-expand.grid(4,seq(p.skpt,p.enth,length=5),c(0,1),c(0,1),2,1,4)
model<-rbind(model1,model2,model3,model4)
names(model)<-c("model","p.range","skpt_spike","enth_flat",
"freq.mntr","enr.shape","out.mean")
write.csv(model,file="args_simulation_S1.csv")
#freq.mnt=frequency of monitoring
#enr.shape=shape gamma dist enrollment
#out.mean=mean normal dist outcome
model1<-expand.grid(1,seq(p.skpt,p.enth,by=0.01),1,0,2,1,4)
model2<-expand.grid(2,p.skpt,1,0,seq(1,max.ss,by=1),1,4)
model3<-expand.grid(3,seq(p.skpt,p.enth,length=5),1,0,2,c(1,0.25),4)
#model3<-expand.grid(3,seq(p.skpt,p.enth,length=3),1,0,c(1,2,3,5,10,20,61,112),c(1,0.25),4)
model4<-expand.grid(4,seq(p.skpt,p.enth,length=5),c(0,1),c(0,1),2,1,4)
model<-rbind(model1,model2,model3,model4)
names(model)<-c("model","p.range","skpt_spike","enth_flat",
"freq.mntr","enr.shape","out.mean")
write.csv(model,file="args_simulation.csv")
#freq.mnt=frequency of monitoring
#enr.shape=shape gamma dist enrollment
#out.mean=mean normal dist outcome
###############################################
#### Figure S1, One Arm Enrollment Schemes ####
###############################################
rm(list = ls())
root<-"P:/GitHub/Bayesian-Sequential-Monitoring/00-paper/FIGURES/onearm/code"
setwd(root)
source("args_model.R")
args_simulation<-read.csv(file="args_simulation_S1.csv",header=TRUE,sep=",")[seq(141,188),]
Table1<-read.csv(file="../output/Table1_merged_S1.csv",header=TRUE,sep=",")
combined1<-merge(args_simulation,Table1,by.x="X",by.y="idx")
figureS1<-combined1[combined1$model==3 & combined1$p.range==p.skpt,]
figureS1$id<-paste0(figureS1$enr.shape)
figureS1$eff<-format(round(figureS1$eff.mon.initial,digits=3),nsmall=3)
figureS1$T1E<-format(round(figureS1$eff.mon.final,digits=3),nsmall=3)
figureS1$ss<-format(round(figureS1$ss.final,digits=1),nsmall=1)
figureS1$ongoing<-paste0(format(round((figureS1$ss.final-figureS1$ss.initial)/figureS1$ss.final*100,digits=1),nsmall=1),"\\%")
a1<-reshape(figureS1[,c("freq.mntr","eff","id")],
timevar = "freq.mntr",
idvar="id",
direction = "wide")
names(a1) <- gsub("eff.", "", names(a1))
a2<-reshape(figureS1[,c("freq.mntr","T1E","id")],
timevar = "freq.mntr",
idvar="id",
direction = "wide")
names(a2) <- gsub("T1E.", "", names(a2))
a3<-reshape(figureS1[,c("freq.mntr","ss","id")],
timevar = "freq.mntr",
idvar="id",
direction = "wide")
names(a3) <- gsub("ss.", "", names(a3))
a4<-reshape(figureS1[,c("freq.mntr","ongoing","id")],
timevar = "freq.mntr",
idvar="id",
direction = "wide")
names(a4) <- gsub("ongoing.", "", names(a4))
all<-rbind(a1,a2,a3,a4)
all <- all[ order(row.names(all)), ]
write.table(t(all), "../../figureS1.csv", sep="&", col.names=T)
#######################################
#### Figure S2, One Arm Robustness ####
#######################################
rm(list = ls())
root<-"P:/GitHub/Bayesian-Sequential-Monitoring/00-paper/FIGURES/onearm/code"
setwd(root)
source("args_model.R")
args_simulation<-read.csv(file="args_simulation.csv",header=TRUE,sep=",")
Table1<-read.csv(file="../output/Table1_merged.csv",header=TRUE,sep=",")
combined1<-merge(args_simulation,Table1,by.x="X",by.y="idx")
figureS2<-combined1[combined1$model==4,]
figureS2$id<-c(rep(1,5),rep(2,5),rep(3,5),rep(4,5))
figureS2$eff<-format(round(figureS2$eff.mon.initial,digits=3),nsmall=3)
figureS2$fut<-format(round(figureS2$fut.mon.initial,digits=3),nsmall=3)
figureS2$inc<-format(round(1-figureS2$eff.mon.initial-figureS2$fut.mon.initial,digits=3),nsmall=3)
figureS2$ss<-paste0(format(round(figureS2$ss.initial,digits=1),nsmall=1),
" + ",
format(round(figureS2$ss.final-
figureS2$ss.initial,digits=1),nsmall=1),
" = ",
format(round(figureS2$ss.final,digits=1),nsmall=1))
a1<-reshape(figureS2[,c("p.range","eff","id")],
timevar = "p.range",
idvar="id",
direction = "wide")
names(a1) <- gsub("eff.", "", names(a1))
a2<-reshape(figureS2[,c("p.range","fut","id")],
timevar = "p.range",
idvar="id",
direction = "wide")
names(a2) <- gsub("fut.", "", names(a2))
a3<-reshape(figureS2[,c("p.range","inc","id")],
timevar = "p.range",
idvar="id",
direction = "wide")
names(a3) <- gsub("inc.", "", names(a3))
a4<-reshape(figureS2[,c("p.range","ss","id")],
timevar = "p.range",
idvar="id",
direction = "wide")
names(a4) <- gsub("ss.", "", names(a4))
all<-rbind(a1,a2,a3,a4)
all <- all[ order(row.names(all)), ]
all
all <- all[ order(row.names(all)), ]
write.table(t(all), "../../figureS2.csv", sep="&", col.names=T)
all<-rbind(a1,a2,a3,a4)
all <- all[ order(row.names(all)), ]
write.table(all, "../../figureS2.csv", sep="&", col.names=T)
source("args_model.R")
args_simulation<-read.csv(file="args_simulation.csv",header=TRUE,sep=",")
Table1<-read.csv(file="../output/Table1_merged.csv",header=TRUE,sep=",")
combined1<-merge(args_simulation,Table1,by.x="X",by.y="idx")
figureS2<-combined1[combined1$model==4,]
figureS2$id<-c(rep(1,5),rep(2,5),rep(3,5),rep(4,5))
figureS2$eff<-format(round(figureS2$eff.mon.initial,digits=3),nsmall=3)
figureS2$fut<-format(round(figureS2$fut.mon.initial,digits=3),nsmall=3)
figureS2$inc<-format(round(1-figureS2$eff.mon.initial-figureS2$fut.mon.initial,digits=3),nsmall=3)
figureS2$ss<-paste0(format(round(figureS2$ss.initial,digits=1),nsmall=1),
" + ",
format(round(figureS2$ss.final-
figureS2$ss.initial,digits=1),nsmall=1),
" = ",
format(round(figureS2$ss.final,digits=1),nsmall=1))
rm(list = ls())
root<-"P:/GitHub/Bayesian-Sequential-Monitoring/00-paper/FIGURES/onearm/code"
setwd(root)
source("args_model.R")
args_simulation<-read.csv(file="args_simulation.csv",header=TRUE,sep=",")
Table1<-read.csv(file="../output/Table1_merged.csv",header=TRUE,sep=",")
combined1<-merge(args_simulation,Table1,by.x="X",by.y="idx")
figureS2<-combined1[combined1$model==4,]
figureS2$id<-c(rep(1,5),rep(2,5),rep(3,5),rep(4,5))
figureS2$eff<-format(round(figureS2$eff.mon.initial,digits=3),nsmall=3)
figureS2$fut<-format(round(figureS2$fut.mon.initial,digits=3),nsmall=3)
figureS2$inc<-format(round(1-figureS2$eff.mon.initial-figureS2$fut.mon.initial,digits=3),nsmall=3)
figureS2$ss<-paste0(format(round(figureS2$ss.initial,digits=1),nsmall=1),
" + ",
format(round(figureS2$ss.final-
figureS2$ss.initial,digits=1),nsmall=1),
" = ",
format(round(figureS2$ss.final,digits=1),nsmall=1))
figureS2$paste0(figureS2$skpt_spike,figureS2$enth_flat)
figureS2$skpt_spike
figureS2$enth_flat
all
#######################################
#### Figure S2, One Arm Robustness ####
#######################################
rm(list = ls())
root<-"P:/GitHub/Bayesian-Sequential-Monitoring/00-paper/FIGURES/onearm/code"
setwd(root)
source("args_model.R")
args_simulation<-read.csv(file="args_simulation.csv",header=TRUE,sep=",")
Table1<-read.csv(file="../output/Table1_merged.csv",header=TRUE,sep=",")
combined1<-merge(args_simulation,Table1,by.x="X",by.y="idx")
figureS2<-combined1[combined1$model==4,]
figureS2$id<-c(rep(1,5),rep(2,5),rep(3,5),rep(4,5))
figureS2$eff<-format(round(figureS2$eff.mon.initial,digits=3),nsmall=3)
figureS2$fut<-format(round(figureS2$fut.mon.initial,digits=3),nsmall=3)
figureS2$inc<-format(round(1-figureS2$eff.mon.initial-figureS2$fut.mon.initial,digits=3),nsmall=3)
figureS2$ss<-paste0(format(round(figureS2$ss.initial,digits=1),nsmall=1),
" + ",
format(round(figureS2$ss.final-
figureS2$ss.initial,digits=1),nsmall=1),
" = ",
format(round(figureS2$ss.final,digits=1),nsmall=1))
a1<-reshape(figureS2[,c("p.range","eff","id")],
timevar = "p.range",
idvar="id",
direction = "wide")
names(a1) <- gsub("eff.", "", names(a1))
a2<-reshape(figureS2[,c("p.range","fut","id")],
timevar = "p.range",
idvar="id",
direction = "wide")
names(a2) <- gsub("fut.", "", names(a2))
a3<-reshape(figureS2[,c("p.range","inc","id")],
timevar = "p.range",
idvar="id",
direction = "wide")
names(a3) <- gsub("inc.", "", names(a3))
a4<-reshape(figureS2[,c("p.range","ss","id")],
timevar = "p.range",
idvar="id",
direction = "wide")
names(a4) <- gsub("ss.", "", names(a4))
all<-rbind(a1,a2,a3,a4)
all <- all[ order(row.names(all)), ]
write.table(all, "../../figureS2.csv", sep="&", col.names=T)
all
names(all)
?write.table
write.table(all, "../../figureS2.csv", sep="&", col.names=T, row.names=F)
rm(list = ls())
root<-"P:/GitHub/Bayesian-Sequential-Monitoring/00-paper/FIGURES/onearm/code"
setwd(root)
source("args_model.R")
args_simulation<-read.csv(file="args_simulation.csv",header=TRUE,sep=",")
Table1<-read.csv(file="../output/Table1_merged.csv",header=TRUE,sep=",")
combined1<-merge(args_simulation,Table1,by.x="X",by.y="idx")
figureS2<-combined1[combined1$model==4,]
figureS2$id<-c(rep(1,5),rep(2,5),rep(3,5),rep(4,5))
figureS2$eff<-format(round(figureS2$eff.mon.initial,digits=3),nsmall=3)
figureS2$fut<-format(round(figureS2$fut.mon.initial,digits=3),nsmall=3)
figureS2$inc<-format(round(1-figureS2$eff.mon.initial-figureS2$fut.mon.initial,digits=3),nsmall=3)
figureS2$ss<-paste0(format(round(figureS2$ss.initial,digits=1),nsmall=1),
" + ",
format(round(figureS2$ss.final-
figureS2$ss.initial,digits=1),nsmall=1),
" = ",
format(round(figureS2$ss.final,digits=1),nsmall=1))
a1<-reshape(figureS2[,c("p.range","eff","id")],
timevar = "p.range",
idvar="id",
direction = "wide")
names(a1) <- gsub("eff.", "", names(a1))
a2<-reshape(figureS2[,c("p.range","fut","id")],
timevar = "p.range",
idvar="id",
direction = "wide")
names(a2) <- gsub("fut.", "", names(a2))
a3<-reshape(figureS2[,c("p.range","inc","id")],
timevar = "p.range",
idvar="id",
direction = "wide")
names(a3) <- gsub("inc.", "", names(a3))
a4<-reshape(figureS2[,c("p.range","ss","id")],
timevar = "p.range",
idvar="id",
direction = "wide")
names(a4) <- gsub("ss.", "", names(a4))
all<-rbind(a1,a2,a3,a4)
all <- all[ order(row.names(all)), ]
write.table(all, "../../figureS2.csv", sep="&", col.names=T, row.names=F)
labels<-c("EFF","FUT","INC","SS")
all
all$labels<-rep(c("EFF","FUT","INC","SS"),4)
all
?add.column
names(all)
c("id","labels", "0.4","0.4675","0.535","0.6025","0.67")
all<-all[,c("id","labels", "0.4","0.4675","0.535","0.6025","0.67")]
all<-all[ order(row.names(all)), ]
write.table(all, "../../figureS2.csv", sep="&", col.names=T, row.names=F)
